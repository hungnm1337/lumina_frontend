<div class="dashboard-container">
  <!-- Loading State -->
  <div class="loading-overlay" *ngIf="isLoading">
    <div class="loading-content">
      <i class="fas fa-spinner fa-spin fa-2x"></i>
      <p>ƒêang t·∫£i d·ªØ li·ªáu dashboard...</p>
    </div>
  </div>

  <!-- Error State -->
  <div class="error-state" *ngIf="error && !isLoading">
    <div class="error-content">
      <i class="fas fa-exclamation-triangle fa-2x"></i>
      <h3>C√≥ l·ªói x·∫£y ra</h3>
      <p>{{ error }}</p>
      <button class="btn-retry" (click)="refreshData()">
        <i class="fas fa-redo"></i>
        Th·ª≠ l·∫°i
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <div *ngIf="!isLoading && !error">
    <!-- Welcome Header -->
    <div class="welcome-header">
      <div class="welcome-content">
        <h1>Ch√†o m·ª´ng tr·ªü l·∫°i! üëã</h1>
        <p>H√¥m nay l√† {{ getCurrentDate() }}. H√£y ti·∫øp t·ª•c t·∫°o n√™n nh·ªØng n·ªôi dung h·ªçc t·∫≠p ch·∫•t l∆∞·ª£ng.</p>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="quick-actions-section">
      <h2 class="section-title">T√°c v·ª• nhanh</h2>
      <div class="quick-actions-grid">
        <div *ngFor="let action of quickActions" class="quick-action-card" [class]="'color-' + action.color" (click)="navigateTo(action.route)">
          <div class="action-icon"><i [class]="action.icon"></i></div>
          <div class="action-content">
            <h3>{{ action.title }}</h3>
            <p>{{ action.description }}</p>
          </div>
          <div class="action-arrow"><i class="fas fa-arrow-right"></i></div>
        </div>
      </div>
    </div>

    <!-- Stats Overview -->
    <div class="stats-section">
      <h2 class="section-title">T·ªïng quan th·ªëng k√™</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon purple"><i class="fas fa-edit"></i></div>
            <div class="stat-trend" [class.positive]="getGrowthPercentage(staffStats.articlesThisMonth, staffStats.articlesLastMonth) >= 0" [class.negative]="getGrowthPercentage(staffStats.articlesThisMonth, staffStats.articlesLastMonth) < 0">
              <i [class]="getGrowthPercentage(staffStats.articlesThisMonth, staffStats.articlesLastMonth) >= 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'"></i>
              <span>{{ getGrowthPercentage(staffStats.articlesThisMonth, staffStats.articlesLastMonth) | number:'1.0-1' }}%</span>
            </div>
          </div>
          <div class="stat-content">
            <h3>{{ staffStats.totalArticles | number }}</h3>
            <p>B√†i vi·∫øt</p>
            <div class="stat-detail"><span>{{ staffStats.articlesThisMonth | number }} th√°ng n√†y</span></div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon blue"><i class="fas fa-question-circle"></i></div>
            <div class="stat-trend" [class.positive]="getGrowthPercentage(staffStats.questionsThisMonth, staffStats.questionsLastMonth) >= 0" [class.negative]="getGrowthPercentage(staffStats.questionsThisMonth, staffStats.questionsLastMonth) < 0">
              <i [class]="getGrowthPercentage(staffStats.questionsThisMonth, staffStats.questionsLastMonth) >= 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'"></i>
              <span>{{ getGrowthPercentage(staffStats.questionsThisMonth, staffStats.questionsLastMonth) | number:'1.0-1' }}%</span>
            </div>
          </div>
          <div class="stat-content">
            <h3>{{ staffStats.totalQuestions | number }}</h3>
            <p>C√¢u h·ªèi</p>
            <div class="stat-detail"><span>{{ staffStats.questionsThisMonth | number }} th√°ng n√†y</span></div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon green"><i class="fas fa-clipboard-list"></i></div>
            <div class="stat-trend" [class.positive]="getGrowthPercentage(staffStats.testsThisMonth, staffStats.testsLastMonth) >= 0" [class.negative]="getGrowthPercentage(staffStats.testsThisMonth, staffStats.testsLastMonth) < 0">
              <i [class]="getGrowthPercentage(staffStats.testsThisMonth, staffStats.testsLastMonth) >= 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'"></i>
              <span>{{ getGrowthPercentage(staffStats.testsThisMonth, staffStats.testsLastMonth) | number:'1.0-1' }}%</span>
            </div>
          </div>
          <div class="stat-content">
            <h3>{{ staffStats.totalTests | number }}</h3>
            <p>B√†i thi</p>
            <div class="stat-detail"><span>{{ staffStats.testsThisMonth | number }} th√°ng n√†y</span></div>
          </div>
        </div>
        <div class="stat-card">
          <div class="stat-header">
            <div class="stat-icon orange"><i class="fas fa-spell-check"></i></div>
            <div class="stat-trend" [class.positive]="getGrowthPercentage(staffStats.vocabularyThisMonth, staffStats.vocabularyLastMonth) >= 0" [class.negative]="getGrowthPercentage(staffStats.vocabularyThisMonth, staffStats.vocabularyLastMonth) < 0">
              <i [class]="getGrowthPercentage(staffStats.vocabularyThisMonth, staffStats.vocabularyLastMonth) >= 0 ? 'fas fa-arrow-up' : 'fas fa-arrow-down'"></i>
              <span>{{ getGrowthPercentage(staffStats.vocabularyThisMonth, staffStats.vocabularyLastMonth) | number:'1.0-1' }}%</span>
            </div>
          </div>
          <div class="stat-content">
            <h3>{{ staffStats.totalVocabulary | number }}</h3>
            <p>T·ª´ v·ª±ng</p>
            <div class="stat-detail"><span>{{ staffStats.vocabularyThisMonth | number }} th√°ng n√†y</span></div>
          </div>
        </div>
        
      </div>
    </div>

  </div>
</div>
