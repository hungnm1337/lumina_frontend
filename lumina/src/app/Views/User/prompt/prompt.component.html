<div class="bg-gray-50 border border-gray-200 rounded-lg p-3 space-y-2">
  <!-- Prompt Text ở trên cùng -->
  @if (prompt?.title) {
  <h4 class="text-base font-semibold text-gray-800">
    {{ prompt?.title }}
  </h4>
  } @if (prompt?.contentText) {
  <div class="text-sm">
    <p class="text-gray-700 leading-snug" style="white-space: pre-wrap">
      {{ prompt?.contentText }}
    </p>
  </div>
  }

  <!-- Image ở dưới prompt text -->
  @if(prompt?.referenceImageUrl) {
  <div class="flex justify-center pt-2 border-t border-gray-200">
    <img
      src="{{ prompt?.referenceImageUrl }}"
      alt="Reference Image"
      class="max-w-xs w-full h-auto rounded-md object-cover shadow-sm"
    />
  </div>
  @if (isWritingQuestion()) {
  <button
    class="btn border-s-blue-400 inline-flex items-center gap-2 px-4 py-2 rounded-md border border-blue-500 text-blue-600 hover:bg-blue-50 active:bg-blue-100 disabled:opacity-60 disabled:cursor-not-allowed shadow-sm"
    (click)="generateCaption()"
    [disabled]="isLoading"
  >
    <span class="i-mdi-image-text"></span>
    <span>Generate Hint </span>
    @if (isLoading) {
    <svg
      class="animate-spin h-4 w-4 text-blue-600"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
    >
      <circle
        class="opacity-25"
        cx="12"
        cy="12"
        r="10"
        stroke="currentColor"
        stroke-width="4"
      ></circle>
      <path
        class="opacity-75"
        fill="currentColor"
        d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"
      ></path>
    </svg>
    }
  </button>
  <div class="mt-3">
    @if (pictureCaption && isShowCaption) {
    <div
      class="p-3 rounded-md bg-gray-50 border border-gray-200 text-gray-800 whitespace-pre-line"
    >
      {{ pictureCaption }}
    </div>
    }
  </div>
  } }
</div>
