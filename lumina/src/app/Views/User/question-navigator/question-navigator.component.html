<div class="w-full flex-shrink-0">
  <div class="sticky top-4 space-y-4">
    <!-- Question Navigator - Vertical -->
    <div class="bg-white rounded-lg shadow-md p-3 border border-gray-200">
      <h4 class="text-xs font-semibold text-gray-700 mb-2">Navigator</h4>
      <div class="grid grid-cols-5 gap-2">
        @for (question of questions; track question.questionId; let i = $index)
        {
        <button (click)="onNavigateToQuestion(i)" [class]="getButtonClass(i)">
          {{ i + 1 }}
        </button>
        }
      </div>

      <!-- Legend -->
      <div
        class="mt-2 flex flex-wrap gap-x-2 gap-y-1 text-[10px] text-gray-600"
      >
        @for (item of legendItems; track item.label) {
        <div class="flex items-center gap-1">
          <div
            class="w-2 h-2 rounded"
            [class]="item.color + (item.animated ? ' animate-pulse' : '')"
          ></div>
          <span class="whitespace-nowrap">{{ item.label }}</span>
        </div>
        }
      </div>
    </div>

    <!-- Submit Button -->
    @if (showSubmitButton) {
    <button
      (click)="onSubmitExam()"
      class="w-full px-4 py-3 rounded-md bg-orange-600 text-white hover:bg-orange-700 text-sm font-semibold shadow-md"
    >
      <i class="fas fa-check-circle mr-2"></i>{{ submitButtonText }}
    </button>
    }
  </div>
</div>
