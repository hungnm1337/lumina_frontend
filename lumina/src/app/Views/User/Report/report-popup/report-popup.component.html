<div class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50" (click)="startClose()">
 	<div #modalContainer class="bg-white rounded-xl shadow-lg w-full max-w-md p-6 relative modal-content" [class.leaving]="isClosing" tabindex="0" (click)="$event.stopPropagation()" (keydown)="onKeyDown($event)">
 		<h2 class="text-xl font-bold text-blue-700 mb-4">Gửi báo cáo mới</h2>
 		<form (ngSubmit)="submitReport()" class="flex flex-col gap-4">
			<div>
				<label class="block text-sm font-medium text-gray-700 mb-1">Loại báo cáo</label>
				<div class="px-2 py-1 rounded bg-blue-100 text-blue-700 font-semibold inline-block">{{form.type}}</div>
			</div>
			<div>
				<label class="block text-sm font-medium text-gray-700 mb-1">Tiêu đề</label>
				<input type="text" [(ngModel)]="form.title" name="title" class="w-full rounded border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2" placeholder="Nhập tiêu đề..." required />
			</div>
			<div>
				<label class="block text-sm font-medium text-gray-700 mb-1">Nội dung</label>
				<textarea [(ngModel)]="form.content" name="content" rows="4" class="w-full rounded border-gray-300 focus:ring-blue-500 focus:border-blue-500 px-3 py-2" placeholder="Nhập nội dung..." required></textarea>
			</div>
			<div class="flex justify-end gap-2 mt-2">
				<button (click)="startClose()" type="button" [disabled]="isSubmitting" class="px-4 py-2 rounded bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold">Đóng</button>
				<button type="submit" [disabled]="isSubmitting" class="px-4 py-2 rounded bg-blue-600 hover:bg-blue-700 text-white font-semibold">{{ isSubmitting ? 'Đang gửi...' : 'Gửi báo cáo' }}</button>
			</div>
		</form>
 	</div>
</div>
